(this["webpackJsonpchange-common-params"]=this["webpackJsonpchange-common-params"]||[]).push([[0],{244:function(e,a){},355:function(e,a,t){e.exports=t(718)},360:function(e,a,t){},370:function(e,a){},372:function(e,a){},382:function(e,a){},383:function(e,a){},44:function(e,a,t){"use strict";(function(e){t.d(a,"a",(function(){return i})),t.d(a,"c",(function(){return c})),t.d(a,"e",(function(){return l})),t.d(a,"f",(function(){return d})),t.d(a,"d",(function(){return u})),t.d(a,"b",(function(){return h}));var n=t(159),s=t(123),r=t(7),o=t(11),i=["maxExtraDataSize","maxAssetSchemeMetadataSize","maxTransferMetadataSize","maxTextContentSize","networkId","minPayTransactionCost","minSetRegularKeyTransactionCost","minCreateShardTransactionCost","minSetShardOwnersTransactionCost","minSetShardUsersTransactionCost","minWrapCccTransactionCost","minCustomTransactionCost","minStoreTransactionCost","minRemoveTransactionCost","minAssetMintCost","minAssetTransferCost","minAssetSchemeChangeCost","minAssetSupplyIncreaseCost","minAssetComposeCost","minAssetDecomposeCost","minAssetUnwrapCccCost","maxBodySize","snapshotPeriod","termSeconds","nominationExpiration","custodyPeriod","releasePeriod","maxNumOfValidators","minNumOfValidators","delegationThreshold","minDeposit","maxCandidateMetadataSize"];function c(){return{maxExtraDataSize:32,maxAssetSchemeMetadataSize:1024,maxTransferMetadataSize:256,maxTextContentSize:512,networkId:"tc",minPayTransactionCost:100,minSetRegularKeyTransactionCost:1e4,minCreateShardTransactionCost:1e6,minSetShardOwnersTransactionCost:1e5,minSetShardUsersTransactionCost:1e4,minWrapCccTransactionCost:1e5,minCustomTransactionCost:0,minStoreTransactionCost:5e3,minRemoveTransactionCost:5e3,minAssetMintCost:1e5,minAssetTransferCost:100,minAssetSchemeChangeCost:1e5,minAssetSupplyIncreaseCost:1e5,minAssetComposeCost:1e5,minAssetDecomposeCost:1e5,minAssetUnwrapCccCost:100,maxBodySize:4194304,snapshotPeriod:16384,termSeconds:0,nominationExpiration:0,custodyPeriod:0,releasePeriod:0,maxNumOfValidators:0,minNumOfValidators:0,delegationThreshold:0,minDeposit:0,maxCandidateMetadataSize:0}}function m(e){return parseInt(r.U64.ensure(e||0).toString(10),10)}function l(e){return{maxExtraDataSize:m(e.maxExtraDataSize),maxAssetSchemeMetadataSize:m(e.maxAssetSchemeMetadataSize),maxTransferMetadataSize:m(e.maxTransferMetadataSize),maxTextContentSize:m(e.maxTextContentSize),networkId:e.networkID,minPayTransactionCost:m(e.minPayCost),minSetRegularKeyTransactionCost:m(e.minSetRegularKeyCost),minCreateShardTransactionCost:m(e.minCreateShardCost),minSetShardOwnersTransactionCost:m(e.minSetShardOwnersCost),minSetShardUsersTransactionCost:m(e.minSetShardUsersCost),minWrapCccTransactionCost:m(e.minWrapCccCost),minCustomTransactionCost:m(e.minCustomCost),minStoreTransactionCost:m(e.minStoreCost),minRemoveTransactionCost:m(e.minRemoveCost),minAssetMintCost:m(e.minMintAssetCost),minAssetTransferCost:m(e.minTransferAssetCost),minAssetSchemeChangeCost:m(e.minChangeAssetSchemeCost),minAssetSupplyIncreaseCost:m(e.minIncreaseAssetSupplyCost),minAssetComposeCost:m(e.minComposeAssetCost),minAssetDecomposeCost:m(e.minDecomposeAssetCost),minAssetUnwrapCccCost:m(e.minUnwrapCccCost),maxBodySize:m(e.maxBodySize),snapshotPeriod:m(e.snapshotPeriod),termSeconds:m(e.termSeconds),nominationExpiration:m(e.nominationExpiration),custodyPeriod:m(e.custodyPeriod),releasePeriod:m(e.releasePeriod),maxNumOfValidators:m(e.maxNumOfValidators),minNumOfValidators:m(e.minNumOfValidators),delegationThreshold:m(e.delegationThreshold),minDeposit:m(e.minDeposit),maxCandidateMetadataSize:m(e.max_candidate_metadata_size)}}function d(e){var a=e.params,t=e.seq;return o.encode([255,t,i.map((function(e){return"networkId"===e?a[e]:m(a[e])}))])}function u(e,a){var t=e.params,n=e.seq;return o.encode([255,n,i.map((function(e){return"networkId"===e?t[e]:m(t[e])}))].concat(Object(s.a)(a.map((function(e){return e.startsWith("0x")?e:"0x".concat(e)})))))}function p(e,a){try{return 0===e.length?0:e.readUIntBE(0,e.length)}catch(n){var t=new Error("Failed to decode ".concat(a));throw t.original=n,t}}function h(a){var t=o.decode(new e(a,"hex"));if(3!==t.length)throw new Error("Invalid RLP: length of the input: ".concat(t.length," should be 3}"));if(32!==t[2].length)throw new Error("Invalid RLP: length of the input: ".concat(t.length," should be 32}"));if("ff"!==t[0].toString("hex"))throw new Error('Invalid format:  expected: "ff" but found '.concat(t[0].toString("hex")));var s=p(t[1],"seq"),r=t[2],i=Object(n.a)(r,32),c=i[0],m=i[1],l=i[2],d=i[3],u=i[4],h=i[5],C=i[6],S=i[7],g=i[8],f=i[9],E=i[10],b=i[11],x=i[12],y=i[13],v=i[14],P=i[15],A=i[16],O=i[17],T=i[18],w=i[19],q=i[20],R=i[21],j=i[22],N=i[23],k=i[24],z=i[25],I=i[26],L=i[27],M=i[28],D=i[29],U=i[30],B=i[31];return{params:{maxExtraDataSize:p(c,"maxExtraDataSize"),maxAssetSchemeMetadataSize:p(m,"maxAssetSchemeMetadataSize"),maxTransferMetadataSize:p(l,"maxTransferMetadataSize"),maxTextContentSize:p(d,"maxTextContentSize"),networkId:u.toString("ascii"),minPayTransactionCost:p(h,"minPayTransactionCost"),minSetRegularKeyTransactionCost:p(C,"minSetRegularKeyTransactionCost"),minCreateShardTransactionCost:p(S,"minCreateShardTransactionCost"),minSetShardOwnersTransactionCost:p(g,"minSetShardOwnersTransactionCost"),minSetShardUsersTransactionCost:p(f,"minSetShardUsersTransactionCost"),minWrapCccTransactionCost:p(E,"minWrapCccTransactionCost"),minCustomTransactionCost:p(b,"minCustomTransactionCost"),minStoreTransactionCost:p(x,"minStoreTransactionCost"),minRemoveTransactionCost:p(y,"minRemoveTransactionCost"),minAssetMintCost:p(v,"minAssetMintCost"),minAssetTransferCost:p(P,"minAssetTransferCost"),minAssetSchemeChangeCost:p(A,"minAssetSchemeChangeCost"),minAssetSupplyIncreaseCost:p(O,"minAssetSupplyIncreaseCost"),minAssetComposeCost:p(T,"minAssetComposeCost"),minAssetDecomposeCost:p(w,"minAssetDecomposeCost"),minAssetUnwrapCccCost:p(q,"minAssetUnwrapCccCost"),maxBodySize:p(R,"maxBodySize"),snapshotPeriod:p(j,"snapshotPeriod"),termSeconds:p(N,"termSeconds"),nominationExpiration:p(k,"nominationExpiration"),custodyPeriod:p(z,"custodyPeriod"),releasePeriod:p(I,"releasePeriod"),maxNumOfValidators:p(L,"maxNumOfValidators"),minNumOfValidators:p(M,"minNumOfValidators"),delegationThreshold:p(D,"delegationThreshold"),minDeposit:p(U,"minDeposit"),maxCandidateMetadataSize:p(B,"maxCandidateMetadataSize")},seq:s}}}).call(this,t(1).Buffer)},578:function(e,a){},718:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(349),o=t.n(r),i=(t(360),t(123)),c=t(122),m=t(36),l=t(37),d=t(39),u=t(38),p=t(40),h=t(159),C=t(124),S=t.n(C),g=t(44),f=t(350),E=t(719),b=t(721),x=t(722),y=t(220);function v(e){var a,t;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new y.SDK({server:e}),n.next=3,S.a.awrap(a.rpc.sendRpcRequest("chain_getCommonParams",[null]));case 3:return t=n.sent,n.abrupt("return",Object(g.e)(t));case 5:case"end":return n.stop()}}))}function P(e){return new y.SDK({server:e}).rpc.sendRpcRequest("chain_getMetadataSeq",[null])}var A=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(u.a)(a).call(this,e))).handleRLPEncodedInputChange=function(e){var a=e.target.value;t.setState({typedRLPEncoded:a})},t.handleRLPEncodedClick=function(e){var a=t.state.typedRLPEncoded;try{var n=Object(g.b)(a);t.props.onLoadParamsAndSeq(n)}catch(s){console.error(s),alert(s)}},t.handleRPCURLInputChange=function(e){var a=e.target.value;t.setState({typedCodeChainRPCURL:a})},t.handleRPCURLClick=function(e){var a,n,s,r,o;return S.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state.typedCodeChainRPCURL,e.prev=1,e.next=4,S.a.awrap(Promise.all([v(a),P(a)]));case 4:n=e.sent,s=Object(h.a)(n,2),r=s[0],o=s[1],t.props.onLoadParamsAndSeq({params:r,seq:o}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),alert(e.t0);case 15:case"end":return e.stop()}}),null,null,[[1,11]])},t.state={typedRLPEncoded:"",typedCodeChainRPCURL:""},t}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement(f.a,{xs:"12",className:"border rounded px-5 py-3 bg-light"},s.a.createElement(E.a,null,s.a.createElement("span",{className:"col-12 col-lg-12 mb-3"},"Load params from RLP Encoded Data"),s.a.createElement(f.a,{xs:"12",lg:"9",className:"mb-3"},s.a.createElement(b.a.Control,{type:"text",value:this.state.typedRLPEncoded,onChange:this.handleRLPEncodedInputChange,placeholder:"Paste RLP encoded data of the Common Params"})),s.a.createElement(f.a,{xs:"12",lg:"3"},s.a.createElement(x.a,{onClick:this.handleRLPEncodedClick,variant:"primary"},"Import"))),s.a.createElement(E.a,null,s.a.createElement("span",{className:"col-12 mb-3"}," Load from RPC "),s.a.createElement(f.a,{xs:"12",lg:"9",className:"mb-3"},s.a.createElement(b.a.Control,{type:"text",value:this.state.typedCodeChainRPCURL,onChange:this.handleRPCURLInputChange,placeholder:"Type CodeChain RPC URL"})),s.a.createElement(f.a,{xs:"12",lg:"3"},s.a.createElement(x.a,{onClick:this.handleRPCURLClick,variant:"primary"},"Import"))))}}]),a}(n.Component),O=t(158),T=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(u.a)(a).call(this,e))).handleSeqInputChange=function(e){var a=e.target.value;t.setState({typedSeq:a});try{var n=parseInt(a,10);t.props.onChangeParamsAndSeq({params:t.props.paramsAndSeq.params,seq:n})}catch(s){t.props.onChangeParamsAndSeq({params:t.props.paramsAndSeq.params,seq:0})}},t.handleParamsInputChange=function(e,a){var n=a.target.value,s=Object(c.a)({},t.props.paramsAndSeq.params,Object(O.a)({},e,n));t.props.onChangeParamsAndSeq({params:s,seq:t.props.paramsAndSeq.seq})},t.state={typedSeq:e.paramsAndSeq.seq.toString()},t}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(f.a,{xs:12,className:"border rounded px-5 py-3 bg-light"},s.a.createElement(E.a,null,s.a.createElement(f.a,{xs:12},this.props.disabled||s.a.createElement("span",null,"Edit Params",s.a.createElement("br",null),s.a.createElement("em",null,"Change parameters as you want")))),s.a.createElement(E.a,null,s.a.createElement(f.a,{xs:12},s.a.createElement(b.a,{className:"row"},s.a.createElement(b.a.Group,{className:"col-12 col-lg-6 row"},s.a.createElement(b.a.Label,{className:"col-12 col-lg-8",column:!0},"Seq"),s.a.createElement(f.a,{xs:"12",lg:"4"},s.a.createElement(b.a.Control,{type:"text",value:String(this.state.typedSeq),onChange:this.handleSeqInputChange,disabled:this.props.disabled})))),s.a.createElement(b.a,{className:"row"},g.a.map((function(a){return s.a.createElement(b.a.Group,{key:a,className:"col-12 col-lg-6 row"},s.a.createElement(b.a.Label,{className:"col-12 col-lg-8",column:!0},a),s.a.createElement(f.a,{xs:"12",lg:"4"},s.a.createElement(b.a.Control,{type:"text",value:String(e.props.paramsAndSeq.params[a]),onChange:function(t){return e.handleParamsInputChange(a,t)},disabled:e.props.disabled})))}))))))}}]),a}(n.Component);T.defaultProps={disabled:!1};var w=T,q=t(121),R=function(e){function a(){return Object(m.a)(this,a),Object(d.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=null;try{e=Object(g.f)({params:this.props.params,seq:this.props.seq}).toString("hex")}catch(a){e=null}return s.a.createElement(f.a,{xs:"12",className:"border rounded px-5 py-3 bg-light text-wrap"},s.a.createElement("span",null,"Share"),s.a.createElement("p",null,s.a.createElement("em",null,"Please provide the link below to other stakeholders for signing."),s.a.createElement("br",null),e&&s.a.createElement(q.b,{to:"/".concat(e),className:"overflow-wrap"},"".concat(window.location.href).concat(e))),s.a.createElement("p",{className:"overflow-wrap mt-1"},s.a.createElement("em",null,"Please use the below RLP data of the Params to load later:"),s.a.createElement("br",null),e||"Invalid Params"))}}]),a}(n.Component),j=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(u.a)(a).call(this,e))).handleRemoveClick=function(e){var a=e.target.name;t.props.onRemoveSignature(a)},t.handleInputChange=function(e){var a=e.target.value;t.setState({typed:a})},t.handleAddButtonClick=function(e){""!==t.state.typed&&(-1===t.props.signatures.indexOf(t.state.typed)?(t.props.onAddSignature(t.state.typed),t.setState({typed:""})):alert("Cannot add duplicated signature"))},t.state={typed:""},t}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(f.a,{xs:"12",className:"border rounded px-5 py-3 bg-light"},s.a.createElement(E.a,null,s.a.createElement(f.a,{xs:"12",className:"mb-3"},s.a.createElement("span",null,"Collect signature"),s.a.createElement("br",null),s.a.createElement("em",null,"Paste signatures from other stake holders to the input box below."))),s.a.createElement(E.a,null,s.a.createElement(f.a,{className:"mb-3"},s.a.createElement(b.a.Control,{type:"text",value:this.state.typed,onChange:this.handleInputChange,placeholder:"Paste signature"})),s.a.createElement(f.a,{xs:"12",lg:"3"},s.a.createElement(x.a,{variant:"primary",onClick:this.handleAddButtonClick},"Collect"))),this.props.signatures.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,"Collected Signatures "),s.a.createElement("ul",null,this.props.signatures.map((function(a){return s.a.createElement("li",{key:a,className:"my-1 overflow-wrap"},a,s.a.createElement(x.a,{size:"sm",className:"ml-1",name:a,onClick:e.handleRemoveClick,variant:"outline-primary"},"delete"))})))))}}]),a}(n.Component),N=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(u.a)(a).call(this,e))).handleClick=function(e){var a=Object(g.d)({params:t.props.params,seq:t.props.seq},t.props.signatures);t.setState({paramsAndSignatures:a.toString("hex")})},t.state={paramsAndSignatures:null},t}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement(f.a,{xs:"12",className:"border rounded px-5 py-3 bg-light"},s.a.createElement("div",{className:"mb-3"},s.a.createElement("span",null,"Create Transaction",s.a.createElement("br",null),s.a.createElement("em",null,"If you collected enough signatures, press the button below to create ChangeCommonParams transaction."))),s.a.createElement(x.a,{onClick:this.handleClick,className:"mb-3"}," ","Create Transaction"," "),this.state.paramsAndSignatures&&s.a.createElement("p",{className:"overflow-wrap"},s.a.createElement("em",null,"Transaction is created."),s.a.createElement("br",null),s.a.createElement("em",null,"Please use the encoded paramsAndSignatures in the stakeholder SDK."),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("span",null,this.state.paramsAndSignatures)))}}]),a}(n.Component),k=t(720),z=t(56),I=t(7),L=t(11),M=function(e){function a(){return Object(m.a)(this,a),Object(d.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.match.params.encodedParams,a=Object(g.b)(e);return s.a.createElement(k.a,null,s.a.createElement(E.a,{className:"mt-5"},s.a.createElement(w,{paramsAndSeq:a,onChangeParamsAndSeq:this.noOp,disabled:!0})),s.a.createElement(E.a,{className:"mb-5 mt-3"},s.a.createElement(f.a,{xs:12,className:"border rounded px-5 py-3 bg-light overflow-wrap"},"Encoded Params: ",e,s.a.createElement("br",null),s.a.createElement("br",null),"Hash of the Params: ",Object(I.blake256)(L.encode(e).toString("hex")))))}},{key:"noOp",value:function(){}}]),a}(n.Component),D=Object(z.e)(M),U=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(u.a)(a).call(this,e))).Index=function(){return s.a.createElement(k.a,null,s.a.createElement("h1",{className:"mt-3"},"CodeChain Change Common Params"),s.a.createElement(E.a,{className:"mt-1"},s.a.createElement(A,{onLoadParamsAndSeq:t.handleLoadParamsAndSeq})),s.a.createElement(E.a,{className:"mt-3"},s.a.createElement(w,{key:t.state.paramsEditorKey,paramsAndSeq:{params:t.state.params,seq:t.state.seq},onChangeParamsAndSeq:t.handleChangeParamsAndSeq})),s.a.createElement(E.a,{className:"mt-3"},s.a.createElement(R,{params:t.state.params,seq:t.state.seq})),s.a.createElement(E.a,{className:"mt-3"},s.a.createElement(j,{signatures:t.state.signatures,onAddSignature:t.handleAddSignature,onRemoveSignature:t.handleRemoveSignature})),s.a.createElement(E.a,{className:"mt-3 mb-5"},s.a.createElement(N,{params:t.state.params,seq:t.state.seq,signatures:t.state.signatures,key:t.state.signatures.join("-")})))},t.handleLoadParamsAndSeq=function(e){var a=e.params,n=e.seq;t.setState({params:a,seq:n,paramsEditorKey:Math.random()})},t.handleChangeParamsAndSeq=function(e){t.setState({params:e.params,seq:e.seq})},t.handleAddSignature=function(e){t.setState((function(a){return Object(c.a)({},a,{signatures:[].concat(Object(i.a)(a.signatures),[e])})}))},t.handleRemoveSignature=function(e){t.setState((function(a){var t=Object(i.a)(a.signatures),n=a.signatures.indexOf(e);return t.splice(n,1),Object(c.a)({},a,{signatures:t})}))},t.state={seq:0,params:Object(g.c)(),paramsEditorKey:0,signatures:[]},t}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(z.a,{exact:!0,path:"/",component:this.Index}),s.a.createElement(z.a,{path:"/:encodedParams",component:D}))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(q.a,null,s.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[355,1,2]]]);
//# sourceMappingURL=main.7929d6cd.chunk.js.map