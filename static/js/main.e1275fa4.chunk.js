(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{240:function(e,t){},353:function(e,t,a){e.exports=a(716)},358:function(e,t,a){},367:function(e,t){},369:function(e,t){},379:function(e,t){},380:function(e,t){},48:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return c}),a.d(t,"c",function(){return i}),a.d(t,"e",function(){return l}),a.d(t,"d",function(){return m}),a.d(t,"b",function(){return d});var n=a(352),r=a(77),s=a(7),o=a(11),c=["maxExtraDataSize","maxAssetSchemeMetadataSize","maxTransferMetadataSize","maxTextContentSize","networkId","minPayTransactionCost","minSetRegularKeyTransactionCost","minCreateShardTransactionCost","minSetShardOwnersTransactionCost","minSetShardUsersTransactionCost","minWrapCccTransactionCost","minCustomTransactionCost","minStoreTransactionCost","minRemoveTransactionCost","minAssetMintCost","minAssetTransferCost","minAssetSchemeChangeCost","minAssetSupplyIncreaseCost","minAssetComposeCost","minAssetDecomposeCost","minAssetUnwrapCccCost","maxBodySize","snapshotPeriod","termSeconds","nominationExpiration","custodyPeriod","releasePeriod","maxNumOfValidators","minNumOfValidators","delegationThreshold","minDeposit"];function i(){return{maxExtraDataSize:32,maxAssetSchemeMetadataSize:1024,maxTransferMetadataSize:256,maxTextContentSize:512,networkId:"tc",minPayTransactionCost:100,minSetRegularKeyTransactionCost:1e4,minCreateShardTransactionCost:1e6,minSetShardOwnersTransactionCost:1e5,minSetShardUsersTransactionCost:1e4,minWrapCccTransactionCost:1e5,minCustomTransactionCost:0,minStoreTransactionCost:5e3,minRemoveTransactionCost:5e3,minAssetMintCost:1e5,minAssetTransferCost:100,minAssetSchemeChangeCost:1e5,minAssetSupplyIncreaseCost:1e5,minAssetComposeCost:1e5,minAssetDecomposeCost:1e5,minAssetUnwrapCccCost:100,maxBodySize:4194304,snapshotPeriod:16384,termSeconds:0,nominationExpiration:0,custodyPeriod:0,releasePeriod:0,maxNumOfValidators:0,minNumOfValidators:0,delegationThreshold:0,minDeposit:0}}function l(e){return o.encode([255,0].concat(Object(r.a)(c.map(function(t){return"networkId"===t?e[t]:s.U64.ensure(e[t]).rlpBytes()}))))}function m(e,t){return o.encode([255,0].concat(Object(r.a)(c.map(function(t){return"networkId"===t?e[t]:s.U64.ensure(e[t]).rlpBytes()})),Object(r.a)(t)))}function u(e,t){try{return 0===e.length?new s.U64(0):s.U64.fromBytes(e)}catch(n){var a=new Error("Failed to decode ".concat(t));throw a.original=n,a}}function d(t){var a=o.decode(new e(t,"hex"));if(a.length!==c.length+2)throw new Error("Invalid RLP: length of the input: ".concat(a.length," should be ").concat(c.length+2));if("ff"!==a[0].toString("hex"))throw new Error('Invalid format:  expected: "ff" but found '.concat(a[0].toString("hex")));if(0!==a[1].length)throw new Error("Invalid format");var r=Object(n.a)(a,33),s=r[2],i=r[3],l=r[4],m=r[5],d=r[6],h=r[7],p=r[8],C=r[9],f=r[10],g=r[11],b=r[12],E=r[13],S=r[14],x=r[15],y=r[16],O=r[17],v=r[18],w=r[19],T=r[20],j=r[21],P=r[22],A=r[23],k=r[24],N=r[25],I=r[26],z=r[27],R=r[28],D=r[29],B=r[30],M=r[31],U=r[32];return{maxExtraDataSize:u(s,"maxExtraDataSize"),maxAssetSchemeMetadataSize:u(i,"maxAssetSchemeMetadataSize"),maxTransferMetadataSize:u(l,"maxTransferMetadataSize"),maxTextContentSize:u(m,"maxTextContentSize"),networkId:d.toString("ascii"),minPayTransactionCost:u(h,"minPayTransactionCost"),minSetRegularKeyTransactionCost:u(p,"minSetRegularKeyTransactionCost"),minCreateShardTransactionCost:u(C,"minCreateShardTransactionCost"),minSetShardOwnersTransactionCost:u(f,"minSetShardOwnersTransactionCost"),minSetShardUsersTransactionCost:u(g,"minSetShardUsersTransactionCost"),minWrapCccTransactionCost:u(b,"minWrapCccTransactionCost"),minCustomTransactionCost:u(E,"minCustomTransactionCost"),minStoreTransactionCost:u(S,"minStoreTransactionCost"),minRemoveTransactionCost:u(x,"minRemoveTransactionCost"),minAssetMintCost:u(y,"minAssetMintCost"),minAssetTransferCost:u(O,"minAssetTransferCost"),minAssetSchemeChangeCost:u(v,"minAssetSchemeChangeCost"),minAssetSupplyIncreaseCost:u(w,"minAssetSupplyIncreaseCost"),minAssetComposeCost:u(T,"minAssetComposeCost"),minAssetDecomposeCost:u(j,"minAssetDecomposeCost"),minAssetUnwrapCccCost:u(P,"minAssetUnwrapCccCost"),maxBodySize:u(A,"maxBodySize"),snapshotPeriod:u(k,"snapshotPeriod"),termSeconds:u(N,"termSeconds"),nominationExpiration:u(I,"nominationExpiration"),custodyPeriod:u(z,"custodyPeriod"),releasePeriod:u(R,"releasePeriod"),maxNumOfValidators:u(D,"maxNumOfValidators"),minNumOfValidators:u(B,"minNumOfValidators"),delegationThreshold:u(M,"delegationThreshold"),minDeposit:u(U,"minDeposit")}}}).call(this,a(1).Buffer)},580:function(e,t){},716:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(345),o=a.n(s),c=(a(358),a(77)),i=a(122),l=a(35),m=a(36),u=a(38),d=a(37),h=a(39),p=a(48),C=a(346),f=a(717),g=a(719),b=a(720),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target.value;a.setState({typed:t})},a.handleClick=function(e){var t=a.state.typed;try{var n=Object(p.b)(t);a.props.onLoadParams(n)}catch(r){console.error(r),alert(r)}},a.state={typed:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,{xs:"12",className:"border rounded px-5 py-3 bg-light"},r.a.createElement(f.a,null,r.a.createElement("span",{className:"col-12 col-lg-12 mb-3"},"Load params from RLP Encoded Data"),r.a.createElement(C.a,{xs:"12",lg:"9",className:"mb-3"},r.a.createElement(g.a.Control,{type:"text",value:this.state.typed,onChange:this.handleInputChange,placeholder:"Paste RLP encoded data of the Common Params"})),r.a.createElement(C.a,{xs:"12",lg:"3"},r.a.createElement(b.a,{onClick:this.handleClick,variant:"primary"},"Import"))))}}]),t}(n.Component),S=a(156),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleInputChange=function(e,t){var n=t.target.value,r=Object(i.a)({},a.props.params,Object(S.a)({},e,n));a.props.onChangeParams(r)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(C.a,{xs:12,className:"border rounded px-5 py-3 bg-light"},r.a.createElement(f.a,null,r.a.createElement(C.a,{xs:12},this.props.disabled||r.a.createElement("span",null,"Edit Params",r.a.createElement("br",null),r.a.createElement("em",null,"Change parameters as you want")))),r.a.createElement(f.a,null,r.a.createElement(C.a,{xs:12},r.a.createElement(g.a,{className:"row"},p.a.map(function(t){return r.a.createElement(g.a.Group,{key:t,className:"col-12 col-lg-6 row"},r.a.createElement(g.a.Label,{className:"col-12 col-lg-8",column:!0},t),r.a.createElement(C.a,{xs:"12",lg:"4"},r.a.createElement(g.a.Control,{type:"text",value:String(e.props.params[t]),onChange:function(a){return e.handleInputChange(t,a)},disabled:e.props.disabled})))})))))}}]),t}(n.Component);x.defaultProps={disabled:!1};var y=x,O=a(121),v=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=null;try{e=Object(p.e)(this.props.params).toString("hex")}catch(t){e=null}return r.a.createElement(C.a,{xs:"12",className:"border rounded px-5 py-3 bg-light text-wrap"},r.a.createElement("span",null,"Share"),r.a.createElement("p",null,r.a.createElement("em",null,"Please provide the link below to other stakeholders for signing."),r.a.createElement("br",null),e&&r.a.createElement(O.b,{to:"/".concat(e),className:"overflow-wrap"},"".concat(window.location.href).concat(e))),r.a.createElement("p",{className:"overflow-wrap mt-1"},r.a.createElement("em",null,"Please use the below RLP data of the Params to load later:"),r.a.createElement("br",null),e||"Invalid Params"))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleRemoveClick=function(e){var t=e.target.name;a.props.onRemoveSignature(t)},a.handleInputChange=function(e){var t=e.target.value;a.setState({typed:t})},a.handleAddButtonClick=function(e){""!==a.state.typed&&(-1===a.props.signatures.indexOf(a.state.typed)?(a.props.onAddSignature(a.state.typed),a.setState({typed:""})):alert("Cannot add duplicated signature"))},a.state={typed:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(C.a,{xs:"12",className:"border rounded px-5 py-3 bg-light"},r.a.createElement(f.a,null,r.a.createElement(C.a,{xs:"12",className:"mb-3"},r.a.createElement("span",null,"Collect signature"),r.a.createElement("br",null),r.a.createElement("em",null,"Paste signatures from other stake holders to the input box below."))),r.a.createElement(f.a,null,r.a.createElement(C.a,{className:"mb-3"},r.a.createElement(g.a.Control,{type:"text",value:this.state.typed,onChange:this.handleInputChange,placeholder:"Paste signature"})),r.a.createElement(C.a,{xs:"12",lg:"3"},r.a.createElement(b.a,{variant:"primary",onClick:this.handleAddButtonClick},"Collect"))),this.props.signatures.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Collected Signatures "),r.a.createElement("ul",null,this.props.signatures.map(function(t){return r.a.createElement("li",{key:t,className:"my-1 overflow-wrap"},t,r.a.createElement(b.a,{size:"sm",className:"ml-1",name:t,onClick:e.handleRemoveClick,variant:"outline-primary"},"delete"))}))))}}]),t}(n.Component),T=a(351),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){var t=Object(p.d)(a.props.params,a.props.signatures),n=new T.SDK({server:"http://dummy.codechain.io"}).core.createCustomTransaction({handlerId:2,bytes:t});n.setSeq(0),n.setFee(1),a.setState({transaction:n.rlpBytes().toString("hex")})},a.state={transaction:null},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,{xs:"12",className:"border rounded px-5 py-3 bg-light"},r.a.createElement("div",{className:"mb-3"},r.a.createElement("span",null,"Create Transaction",r.a.createElement("br",null),r.a.createElement("em",null,"If you collected enough signatures, press the button below to create ChangeCommonParams transaction."))),r.a.createElement(b.a,{onClick:this.handleClick,className:"mb-3"}," ","Create Transaction"," "),this.state.transaction&&r.a.createElement("p",{className:"overflow-wrap"},r.a.createElement("em",null,"Transaction is created."),r.a.createElement("br",null),r.a.createElement("em",null,"Please use the encoded transaction in the stakeholder SDK."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",null,this.state.transaction)))}}]),t}(n.Component),P=a(718),A=a(55),k=a(7),N=a(11),I=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.match.params.encodedParams,t=Object(p.b)(e);return r.a.createElement(P.a,null,r.a.createElement(f.a,{className:"mt-5"},r.a.createElement(y,{params:t,onChangeParams:this.noOp,disabled:!0})),r.a.createElement(f.a,{className:"mb-5 mt-3"},r.a.createElement(C.a,{xs:12,className:"border rounded px-5 py-3 bg-light overflow-wrap"},"Encoded Params: ",e,r.a.createElement("br",null),r.a.createElement("br",null),"Hash of the Params: ",Object(k.blake256)(N.encode(e).toString("hex")))))}},{key:"noOp",value:function(){}}]),t}(n.Component),z=Object(A.e)(I),R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).Index=function(){return r.a.createElement(P.a,null,r.a.createElement("h1",{className:"mt-3"},"Change Common Params"),r.a.createElement(f.a,{className:"mt-1"},r.a.createElement(E,{onLoadParams:a.handleLoadParams})),r.a.createElement(f.a,{className:"mt-3"},r.a.createElement(y,{params:a.state.params,onChangeParams:a.handleChangeParams})),r.a.createElement(f.a,{className:"mt-3"},r.a.createElement(v,{params:a.state.params})),r.a.createElement(f.a,{className:"mt-3"},r.a.createElement(w,{signatures:a.state.signatures,onAddSignature:a.handleAddSignature,onRemoveSignature:a.handleRemoveSignature})),r.a.createElement(f.a,{className:"mt-3 mb-5"},r.a.createElement(j,{params:a.state.params,signatures:a.state.signatures,key:a.state.signatures.join("-")})))},a.handleLoadParams=function(e){a.setState({params:e})},a.handleChangeParams=function(e){a.setState({params:e})},a.handleAddSignature=function(e){a.setState(function(t){return Object(i.a)({},t,{signatures:[].concat(Object(c.a)(t.signatures),[e])})})},a.handleRemoveSignature=function(e){a.setState(function(t){var a=Object(c.a)(t.signatures),n=t.signatures.indexOf(e);return a.splice(n,1),Object(i.a)({},t,{signatures:a})})},a.state={params:Object(p.c)(),signatures:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{exact:!0,path:"/",component:this.Index}),r.a.createElement(A.a,{path:"/:encodedParams",component:z}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(O.a,{basename:"codechain-change-common-params"},r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[353,1,2]]]);
//# sourceMappingURL=main.e1275fa4.chunk.js.map